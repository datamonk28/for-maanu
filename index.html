<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>A Small Story ü§ç</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  color: white;
  background: #0b1026;
  overflow: hidden; /* Prevents scrolling between hidden layers */
}

.template-bg {
  background: radial-gradient(circle at center, #1b2347 0%, #0b1026 100%);
  height: 100vh;
  width: 100vw;
  position: fixed;
  top: 0; left: 0;
  z-index: -1;
}

.star {
  position: absolute;
  background: white;
  border-radius: 50%;
  opacity: 0.4;
  pointer-events: none;
  animation: float linear infinite;
  z-index: 0;
}

@keyframes float {
  from { transform: translateY(105vh); }
  to { transform: translateY(-10vh); }
}

/* ===== LOGIN ===== */
#passwordOverlay {
  position: fixed;
  inset: 0;
  z-index: 9000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  background: radial-gradient(circle at center, #1b2347 0%, #0b1026 100%);
}

.pass-card {
  width: 100%;
  max-width: 380px;
  padding: 50px 35px;
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 40px;
  text-align: center;
  z-index: 9001;
}

.pass-card input {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 215, 0, 0.3);
  padding: 15px;
  border-radius: 15px;
  width: 100%;
  color: white;
  text-align: center;
  font-size: 1.3rem;
  letter-spacing: 8px;
  outline: none;
  margin-top: 20px;
}

.pass-card button {
  margin-top: 30px;
  width: 100%;
  padding: 16px;
  border-radius: 15px;
  border: none;
  background: linear-gradient(135deg, #ffd700, #f6d365);
  color: #0b1026;
  font-weight: 800;
  cursor: pointer;
}

/* ===== INTRO ===== */
.intro {
  position: fixed;
  inset: 0;
  background: url("canva1.png") center/cover no-repeat;
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 8000;
}
.intro::after { content: ""; position: absolute; inset: 0; background: rgba(0,0,0,0.6); }

/* ===== STORY PAGE ===== */
.story-page {
  display: none;
  height: 100vh;
  padding: 60px 20px;
  overflow-y: auto;
  position: relative;
  z-index: 10;
}

.container {
  max-width: 900px;
  margin: auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
}

.box {
  padding: 25px;
  border-radius: 20px;
  background: rgba(255,255,255,0.06);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.1);
  cursor: pointer;
}

.line { width: 40px; height: 2px; background: #ffd700; margin-bottom: 12px; }

/* ===== POPUPS ===== */
.full { position: fixed; inset: 0; display: none; z-index: 10000; }
.full-bg { position: absolute; inset: 0; background-size: cover; filter: blur(15px); }
.full-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.8); }
.full-card {
  position: relative;
  max-width: 550px;
  margin: 10vh auto;
  padding: 40px 30px;
  border-radius: 25px;
  background: rgba(15, 20, 40, 0.98);
  border: 1px solid rgba(255,255,255,0.1);
}

.final-sheet {
  position: fixed;
  inset: 0;
  display: none;
  backdrop-filter: blur(15px);
  z-index: 11000;
  align-items: center;
  justify-content: center;
}

.final-card-wrapper {
  background: white;
  color: #333;
  padding: 40px 30px;
  width: 85%;
  max-width: 400px;
  border-radius: 15px;
  text-align: center;
  box-shadow: 0 30px 60px rgba(0,0,0,0.5);
}

.highlight-yellow { color: #FFD700; font-weight: 500; }
.question-yellow { color: #FFD700; font-weight: 500; }

/* ===== FINAL POEM PAGE ===== */
.last-page {
  position: fixed;
  inset: 0;
  display: none;
  z-index: 12000; /* Highest priority at the end */
  overflow-y: auto;
  text-align: center;
  padding: 60px 20px;
  background: radial-gradient(circle at center, #1b2347 0%, #0b1026 100%);
}

.poem-card {
  background: rgba(255, 255, 255, 0.07);
  backdrop-filter: blur(20px);
  border-radius: 30px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  max-width: 500px;
  margin: 0 auto;
  padding: 40px 20px;
}

.girl-image {
  width: 180px;
  height: 180px;
  object-fit: cover;
  border-radius: 50%;
  border: 3px solid #ffd700;
  margin-bottom: 25px;
}

.poem-container {
  font-family: "Georgia", serif;
  font-style: italic;
  line-height: 2.2;
  color: #f0e68c;
}

/* UI BUTTONS */
.music-control {
  position: fixed;
  bottom: 20px; right: 20px; z-index: 20000;
  background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);
  color: white; width: 45px; height: 45px; border-radius: 50%; cursor: pointer;
  display: none; align-items: center; justify-content: center;
}

.curious-btn { 
  margin-top: 40px; padding: 15px 40px; border-radius: 30px; border: none; 
  background: linear-gradient(135deg, #f6d365, #fda085); cursor: pointer; font-weight: bold;
}
.curious-btn.disabled { opacity: 0.2; cursor: not-allowed; }

.heart-flare { position: absolute; color: #ff4d4d; animation: heartFloat 2s ease-out forwards; pointer-events: none; z-index: 21000;}
@keyframes heartFloat { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-100px); opacity: 0; } }
</style>
</head>

<body>

<div class="template-bg"></div>
<div id="starContainer"></div>

<audio id="bgMusic" loop>
  <source src="mysong.mp3" type="audio/mpeg">
</audio>

<button class="music-control" onclick="toggleMusic()" id="musicBtn">üéµ</button>

<div id="passwordOverlay">
  <div class="pass-card">
    <h2 style="font-family: Georgia;">Secret Key</h2>
    <p style="opacity: 0.7;">Only for Maanuu's eyes ü§ç</p>
    <input type="password" id="passInput" placeholder="ü´†ü´£ü§îüòá‚ò∫Ô∏èüòù" autofocus>
    <button onclick="checkPassword()">Welcomeüòç</button>
  </div>
</div>

<div class="intro" id="intro">
  <div style="text-align:center; padding: 20px; z-index: 1;">
    <h1>Hey Maanuu ü§ç</h1>
    <p>Ek kahani sunegi kya?</p>
    <button onclick="enterStory()" style="padding:15px 40px; border-radius:30px; border:none; cursor:pointer; font-weight:bold;">Continue</button>
  </div>
</div>

<div class="story-page" id="storyPage">
  <div style="text-align:center; margin-bottom:40px;">
    <h2 style="font-size: 2rem; color: #ffd700;">A Small Story ü§ç</h2>
  </div>
  <div class="container">
    <div class="box" onclick="openStory(0)"><h3>The Beginning</h3><div class="line"></div><p>Two hearts, quietly understanding each other‚Ä¶</p></div>
    <div class="box" onclick="openStory(1)"><h3>The Moon Thought</h3><div class="line"></div><p>Is it poetry, or something honest?</p></div>
    <div class="box" onclick="openStory(2)"><h3>No Impressing</h3><div class="line"></div><p>Some feelings don‚Äôt need effort.</p></div>
  </div>
  <div style="text-align:center;">
    <button id="curiousBtn" class="curious-btn disabled" disabled>Just curious??</button>
  </div>
</div>

<div class="full" id="full">
  <div class="full-bg" id="fullBg"></div>
  <div class="full-overlay"></div>
  <div class="full-card">
    <button onclick="closeStory()" style="float:right; border:none; padding:8px 15px; border-radius:10px; cursor:pointer; background:white; font-weight:bold;">‚úï Close</button>
    <div id="fullText" style="margin-top:50px; line-height:1.8; color:white;"></div>
  </div>
</div>

<div class="final-sheet" id="finalSheet">
  <div class="final-card-wrapper">
    <h1 style="margin:0; font-family:Georgia; color:#9b4a1f;">There is no moral here.</h1>
    <p style="color:#555; margin:20px 0;">It was just a story... <br> I was curious to know what happens next, but then I woke up. üòÇ</p>
    <button style="background:#9b4a1f; color:white; border:none; padding:15px 30px; border-radius:50px; cursor:pointer; font-weight:bold;" onclick="showLastPage()">Accept Small Gift üíù</button>
  </div>
</div>

<div class="last-page" id="lastPage">
  <div class="poem-card" id="poemBox">
    <img src="myfavy.jpeg" alt="Maanuu" class="girl-image">
    <div class="poem-container">
      <p>‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§á‡§∏ ‡§∂‡•ã‡§∞ ‡§Æ‡•á‡§Ç, ‡§Æ‡•á‡§∞‡§æ ‡§∏‡•Å‡§ï‡•Ç‡§® ‡§π‡•ã ‡§§‡•Å‡§Æ,<br>‡§∏‡§¨ ‡§ï‡§π‡•á‡§Ç "‡§õ‡•ã‡§°‡§º ‡§¶‡•ã," ‡§™‡§∞ ‡§Æ‡•á‡§∞‡§æ ‡§ú‡•Å‡§®‡•Ç‡§® ‡§π‡•ã ‡§§‡•Å‡§Æ‡•§</p>
      
      <p>‡§∏‡§ø‡§§‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§ñ‡§º‡§¨‡§∞ ‡§ï‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•Ä ‡§ö‡§Æ‡§ï ‡§ï‡•Ä,<br>‡§Æ‡•á‡§∞‡•Ä ‡§Ü‡§Å‡§ñ‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§π‡§∏‡•Ä‡§® ‡§®‡•Ç‡§∞ ‡§π‡•ã ‡§§‡•Å‡§Æ‡•§</p>
      
      <p>‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡§æ ‡§π‡§æ‡§• ‡§•‡§æ‡§Æ‡§®‡§æ ‡§®‡§∏‡•Ä‡§¨ ‡§Æ‡•á‡§Ç ‡§®‡§π‡•Ä‡§Ç, ‡§§‡•ã ‡§ï‡•ç‡§Ø‡§æ?<br>‡§¶‡•Ç‡§∞ ‡§∞‡§π ‡§ï‡§∞ ‡§≠‡•Ä ‡§Æ‡•á‡§∞‡•Ä ‡§π‡§∞ ‡§¶‡•Å‡§Ü ‡§Æ‡•á‡§Ç ‡§π‡•ã ‡§§‡•Å‡§Æ‡•§</p>
      
      <p>‡§ú‡§º‡§Æ‡§æ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§π‡•ã‡§Ç‡§ó‡•á ‡§®‡§è ‡§î‡§∞ ‡§¨‡•á‡§∂‡•Å‡§Æ‡§æ‡§∞ ‡§ö‡•á‡§π‡§∞‡•á,<br>‡§™‡§∞ ‡§Æ‡•á‡§∞‡•á ‡§¶‡§ø‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§∏‡§¨‡§∏‡•á ‡§ñ‡§º‡§æ‡§∏ ‡§π‡•ã ‡§§‡•Å‡§Æ‡•§</p>
      
      <p>‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§≠‡§≤‡•á ‡§π‡•Ä ‡§≠‡•Å‡§≤‡§æ ‡§¶‡•á ‡§á‡§∏ ‡§¶‡•Ä‡§µ‡§æ‡§®‡•á ‡§ï‡•ã,<br>‡§Æ‡•á‡§∞‡•á ‡§π‡§∞ ‡§µ‡§æ‡§¶‡•á, ‡§π‡§∞ ‡§è‡§ï ‡§è‡§π‡§∏‡§æ‡§∏ ‡§Æ‡•á‡§Ç ‡§π‡•ã ‡§§‡•Å‡§Æ‡•§</p>
      
      <p>‡§∏‡§ø‡§§‡§æ‡§∞‡§æ ‡§ï‡§≠‡•Ä ‡§Ö‡§™‡§®‡•á ‡§Ü‡§∏‡§Æ‡§æ‡§® ‡§∏‡•á ‡§ú‡•Å‡§¶‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡§æ,<br>‡§Æ‡•å‡§§ ‡§§‡§ï ‡§ú‡•ã ‡§∏‡§æ‡§• ‡§ö‡§≤‡•á, ‡§µ‡•ã ‡§Æ‡•á‡§∞‡§æ ‡§á‡§Ç‡§§‡§ú‡§º‡§æ‡§∞ ‡§π‡•ã ‡§§‡•Å‡§Æ‡•§</p>
      
      <div style="margin-top:30px; color:#ffd700; letter-spacing:2px; font-size:0.8rem;">‚Äî FOR MAANUU</div>
    </div>
  </div>
  <button style="background:none; border:1px solid rgba(255,215,0,0.5); color:#ffd700; padding:10px 25px; border-radius:25px; cursor:pointer; margin: 40px 0;" onclick="location.reload()">‚Ü∫ Restart</button>
</div>

<script>
function createStars() {
  const container = document.getElementById('starContainer');
  for (let i = 0; i < 60; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    const size = Math.random() * 3 + 'px';
    star.style.width = size; star.style.height = size;
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.animationDuration = (Math.random() * 8 + 5) + 's';
    container.appendChild(star);
  }
}
window.onload = createStars;

function checkPassword() {
  if (document.getElementById("passInput").value === "myfavy") {
    document.getElementById("passwordOverlay").style.display = "none";
    document.getElementById("intro").style.display = "flex";
  } else { alert("Not the magic word! ‚ú®"); }
}

function enterStory() {
  const music = document.getElementById("bgMusic");
  music.volume = 0.3; 
  music.play().catch(() => {});
  
  document.getElementById("musicBtn").style.display = "flex";
  document.getElementById("intro").style.display = "none";
  document.getElementById("storyPage").style.display = "block";
  // Explicitly hide lastPage in case it's bugged
  document.getElementById("lastPage").style.display = "none"; 
}

function toggleMusic() {
  const m = document.getElementById("bgMusic");
  const b = document.getElementById("musicBtn");
  if (m.paused) { m.play(); b.innerHTML = "üéµ"; }
  else { m.pause(); b.innerHTML = "üîá"; }
}

const stories = [
  {
    bg: "manu.png",
    html: `
      <p>
        They didn‚Äôt share a common language, yet their hearts somehow understood each other.
        The boy found a true friend in her and offered a small gift (to his treasure),
        knowing she wasn‚Äôt fond of such gestures.
        It wasn‚Äôt a mistake‚Äîit was his way of saying thank you.
        If the girl felt it wasn‚Äôt right for her, she has every right to reject it üòÖ
      </p>
    `
  },
  {
    bg: "chatgpt.png",
    html: `
      <p>
        A boy calls his girl the moon, wondering if he could ever reach her ‚Äî
        then the engineer inside him smiles and says,
        no worries, I‚Äôll build a rocket.
      </p>

      <p>
        <span class="highlight-yellow">Funny right Maanuu</span>
      </p>

      <p>
        Do you really think that this boy prioritise that girl
        or is this just a fancy line to impress?
      </p>
    `
  },
  {
    bg: "canva2.jpg",
    html: `
      <p><span class="question-yellow">When I asked this same question with the boy, he said:</span></p>

      <p>‚ÄúWhy should I try to impress her? I‚Äôm already impressed by her for no reason.‚Äù</p>

      <p><span class="question-yellow">I checked with him what did you like in her?</span></p>

      <p>
        He laughed and said it was her cuteness ‚Äî
        how it shows in her innocence, her anger, her pain, her smile,
        her emotions, her strictness, her rejection, and her acceptance.
      </p>

      <p><span class="question-yellow">I asked again, ‚ÄúDon‚Äôt you want her to treat you same as you do?‚Äù</span></p>

      <p>
        He replied,
        ‚ÄúPure connections never forces anyone to love, stay nor does it beg for it.‚Äù
      </p>

      <p><span class="question-yellow">So I asked, ‚ÄúThen what is the point of all this?‚Äù</span></p>

      <p>
        He smiled gently and said,
        ‚ÄúSo that I never regret in the future for having missed such a divine soul.‚Äù
      </p>
    `
  }
];

const opened = new Set();
function openStory(i) {
  opened.add(i);
  document.getElementById("fullBg").style.backgroundImage = `url(${stories[i].bg})`;
  document.getElementById("fullText").innerHTML = stories[i].html;
  document.getElementById("full").style.display = "block";
  if (opened.size === 3) {
    const btn = document.getElementById("curiousBtn");
    btn.disabled = false; btn.classList.remove("disabled");
    btn.onclick = () => document.getElementById("finalSheet").style.display = "flex";
  }
}

function closeStory() { document.getElementById("full").style.display = "none"; }

function showLastPage() {
  document.getElementById("finalSheet").style.display = "none";
  document.getElementById("storyPage").style.display = "none"; // Hide previous page
  document.getElementById("lastPage").style.display = "block";
}

document.getElementById('poemBox').addEventListener('click', function(e) {
    const heart = document.createElement('div');
    heart.innerHTML = '‚ù§Ô∏è'; heart.className = 'heart-flare';
    heart.style.left = (e.pageX - 10) + 'px'; heart.style.top = (e.pageY - 10) + 'px';
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 2000);
});
</script>

</body>
</html>
